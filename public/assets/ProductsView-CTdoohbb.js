import{_ as h,g as d}from"./getProducts.action-DvbeBEFP.js";import{e as _,w as y,h as f,d as g,f as b,c,a as e,F as w,r as v,u as r,g as p,l as q,o as i,n as k,k as C,m as N,t as u}from"./index-CIkXE6aJ.js";import{u as P,a as F}from"./get-product-image.action-CtuScUw7.js";const T=()=>{const l=f(),a=_(Number(l.query.page||1));return y(()=>l.query.page,t=>{a.value=Number(t||1),window.scrollTo({top:0,behavior:"smooth"})}),{page:a}},V={class:"bg-white px-5 py-2 rounded"},B={class:"py-8 w-full"},L={class:"shadow overflow-hidden rounded border-b border-gray-200"},Q={class:"min-w-full bg-white"},R={class:"text-gray-700"},j={class:"text-left py-3 px-4"},z=["src","alt"],E={class:"text-left py-3 px-4"},K={class:"text-left py-3 px-4"},$={class:"bg-blue-200 text-blue-600 py-1 px-3 rounded text-xs"},A={class:"text-left py-3 px-4"},H=g({__name:"ProductsView",setup(l){const a=P(),{page:t}=T(),{data:n=[]}=F({queryKey:["products",{page:t}],queryFn:()=>d(t.value)});return b(()=>{a.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>d(t.value+1)})}),(D,o)=>{const m=q("RouterLink");return i(),c("div",V,[o[1]||(o[1]=e("h1",{class:"text-3xl"},"Productos",-1)),e("div",B,[e("div",L,[e("table",Q,[o[0]||(o[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Imagen"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"TÃ­tulo"),e("th",{class:"w-28 py-3 px-4 uppercase font-semibold text-sm"},"Precio"),e("th",{class:"w-60 py-3 px-4 uppercase font-semibold text-sm"},"Tallas")])],-1)),e("tbody",R,[(i(!0),c(w,null,v(r(n),(s,x)=>(i(),c("tr",{class:k({"bg-gray-100":x%2===0}),key:s.id},[e("td",j,[e("img",{src:s.images[0],alt:s.title,class:"h-20 w-20 object-cover"},null,8,z)]),e("td",E,[p(m,{class:"hover:text-blue-500 hover: underline",to:`/admin/products/${s.id}`},{default:C(()=>[N(u(s.title),1)]),_:2},1032,["to"])]),e("td",K,[e("span",$,u(s.price),1)]),e("td",A,u(s.sizes.join(", ")),1)],2))),128))])])]),p(h,{page:r(t),"has-more-data":!!r(n)&&r(n).length<12},null,8,["page","has-more-data"])])])}}});export{H as default};
