import{_,g as h}from"./getProducts.action-DvbeBEFP.js";import{d,o,c as r,a as e,t as c,F as m,r as x,b as g,e as v,w as f,f as w,u as n,g as b,h as y}from"./index-CIkXE6aJ.js";import{u as k,a as M}from"./get-product-image.action-CtuScUw7.js";const q={class:"rounded-xl bg-white p-3 shadow-lg hover:shadow-xl hover:transform hover:scale-105 duration-300"},C={href:"#"},B={class:"relative flex items-end overflow-hidden rounded-xl"},$=["src","alt"],z={class:"mt-1 p-2"},j={class:"text-slate-700"},F={class:"mt-1 text-sm text-slate-400 capitalize"},L={class:"mt-3 flex items-end justify-between"},N={class:"text-lg font-bold text-blue-500"},P=d({__name:"ProductCard",props:{product:{}},setup(u){return(s,t)=>(o(),r("article",q,[e("a",C,[e("div",B,[e("img",{src:s.product.images[0],alt:s.product.title,class:"h-[250px] object-cover"},null,8,$),t[0]||(t[0]=e("div",{class:"flex items-center space-x-1.5 rounded-lg bg-blue-500 px-4 py-1.5 text-white duration-100 hover:bg-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})]),e("button",{class:"text-sm"},"Añadir al carrito")],-1))]),e("div",z,[e("h2",j,c(s.product.title),1),e("p",F,c(s.product.gender),1),e("div",L,[e("p",N,c(s.product.price)+"€",1),t[1]||(t[1]=e("div",{class:"flex items-center space-x-1.5 rounded-lg bg-blue-500 px-4 py-1.5 text-white duration-100 hover:bg-blue-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})]),e("button",{class:"text-sm"},"Add to cart")],-1))])])])]))}}),A={class:"py-10 bg-gray-100"},E={class:"mx-auto grid max-w-6xl grid-cols-1 gap-6 p-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},Q=d({__name:"ProductList",props:{products:{}},setup(u){return(s,t)=>(o(),r("section",A,[t[0]||(t[0]=e("div",{class:"pt-32 mb-10"},[e("h1",{class:"text-center text-2xl font-bold text-gray-800"},"Productos")],-1)),e("div",E,[(o(!0),r(m,null,x(s.products,a=>(o(),g(P,{key:a.id,product:a},null,8,["product"]))),128))])]))}}),V={key:0,class:"text-center"},R=d({__name:"HomeView",setup(u){const s=y(),t=v(Number(s.query.page||1)),a=k(),{data:l=[]}=M({queryKey:["products",{page:t}],queryFn:()=>h(t.value)});return f(()=>s.query.page,i=>{t.value=Number(i||1),window.scrollTo({top:0,behavior:"smooth"})}),w(()=>{a.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>h(t.value+1)})}),(i,p)=>(o(),r(m,null,[n(l)?(o(),g(Q,{key:1,products:n(l)},null,8,["products"])):(o(),r("div",V,p[0]||(p[0]=[e("h1",{class:"text-xl"},"Cargando productos...",-1),e("p",null,"Espere por favor...",-1)]))),b(_,{"has-more-data":!!n(l)&&n(l).length<10,page:t.value},null,8,["has-more-data","page"])],64))}});export{R as default};
